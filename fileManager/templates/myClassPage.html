{% load staticfiles %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<!--
   This is a starter template page. Use this page to start your new project from
   scratch. This page gets rid of all links and provides the needed markup only.
   -->
<html ng-app="slugChatApp"  ng-controller="testDataCtrl">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>My Class</title>
      <!-- Tell the browser to be responsive to screen width -->
      <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
      <!-- Bootstrap 3.3.5 -->
      <link rel="stylesheet" href="{% static 'AdminLTE/bootstrap/css/bootstrap.min.css' %}">
      <!-- Font Awesome -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
      <!-- Ionicons -->
      <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
      <!-- fullCalendar 2.2.5-->
      <link rel="stylesheet" href="{% static 'AdminLTE/plugins/fullcalendar/fullcalendar.min.css' %}">
      <link rel="stylesheet" href="{% static 'AdminLTE/plugins/fullcalendar/fullcalendar.print.css'%}" media="print">
      <!-- Theme style -->
      <link rel="stylesheet" href="{% static 'AdminLTE/dist/css/AdminLTE.min.css' %}">
      <link rel="stylesheet" href="{% static 'css/stylesForRestOfSite.css' %}">
      <!-- AdminLTE Skins. We have chosen the skin-blue for this starter
         page. However, you can choose any other skin. Make sure you
         apply the skin class to the body tag so the changes take effect.
         -->
      <link rel="stylesheet" href="{% static 'AdminLTE/dist/css/skins/skin-blue.min.css' %}">
      <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
   </head>
   <!--
      BODY TAG OPTIONS:
      =================
      Apply one or more of the following classes to get the
      desired effect
      |---------------------------------------------------------|
      | SKINS         | skin-blue                               |
      |               | skin-black                              |
      |               | skin-purple                             |
      |               | skin-yellow                             |
      |               | skin-red                                |
      |               | skin-green                              |
      |---------------------------------------------------------|
      |LAYOUT OPTIONS | fixed                                   |
      |               | layout-boxed                            |
      |               | layout-top-nav                          |
      |               | sidebar-collapse                        |
      |               | sidebar-mini                            |
      |---------------------------------------------------------|
      -->
   <body class="hold-transition skin-blue sidebar-mini">
      <div class="wrapper">
         <!-- Main Header -->
         <header class="main-header">
            <!-- Logo -->
            <a href="/" class="logo">
               <!-- mini logo for sidebar mini 50x50 pixels -->
               <span class="logo-mini"><b>S</b>C</span>
               <!-- logo for regular state and mobile devices -->
               <span class="logo-lg"><b>Slug</b>Chat</span>
            </a>
            <!-- Header Navbar -->
            <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
               <!-- Sidebar toggle button-->
               <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
               <span class="sr-only">Toggle navigation</span>
               </a>
               <!-- Navbar Right Menu -->
               <div class="navbar-custom-menu">
                  <ul class="nav navbar-nav">

                  </ul>
               </div>
            </nav>
         </header>
         <!-- Left side column. contains the logo and sidebar -->

         <div class="container">
         <!-- paste content here-->
         <aside class="main-sidebar">
          <section class="sidebar">

          <ul class="sidebar-menu">
            <li class="header text-center">DASHBOARD</li>
            <li class="active treeview">
              <a href="profile.html">
                <i class="fa fa-th"></i>
                <span>Profile</span>
              </a>
            </li>
            <li class="treeview">
              <a href="profileStats.html">
                <i class="fa fa-dashboard"></i>
                <span>Manage Classes</span>
              </a>
            </li>
            <li class="treeview">
              <a href="profileMessages.html">
                <i class="fa fa-envelope"></i>
                <span>Messages</span>
              </a>
            </li>
            <!--<li>
              <a href="pages/mailbox/mailbox.html">
                <i class="fa fa-envelope"></i> <span>Other2</span>
              </a>
            </li>
            <li><a href="documentation/index.html"><i class="fa fa-book"></i> <span>Other3</span></a></li>-->
          </ul>
        </section>
        <!-- /.sidebar -->
      </aside>
         </div>
         <!-- Content Wrapper. Contains page content -->
         <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header">
               <h1>
                  {{currentclass}}
               </h1>
            </section>
            <!-- Main content -->
            <section class="content">

                  <div class="row">
                     <!--
                        MASSIVE FUTURE EDIT MUST GRAB FROM DB.
                        DO NOT IGNORE
                        THIS IS NOT FOR SPRIT 1 THO MUST BUT DONE IN ANOTHER SPRINT
                     -->
                     <!--<section class="col-xs-offset-3 col-xs-6 col-sm-offset-0 col-sm-6 col-md-4 col-lg-2">-->

                  </div>

                  <div class="row">
                    <div class="col-xs-12">
                                  <!-- Custom Tabs -->
                                  <div class="nav-tabs-custom">
                                    <ul class="nav nav-tabs">
                                      <li class=""><a href="#tab_chat" data-toggle="tab" aria-expanded="false">Chat</a></li>
                                      <li class="active"><a href="#tab_files" data-toggle="tab" aria-expanded="false">Files</a></li>
                                      <li class=""><a href="#tab_about" data-toggle="tab" aria-expanded="false">About</a></li>
                                      <li class=""><a href="/fileManager/?class={{currentclass}}" aria-expanded="false">Lecture</a></li>
                                      <li class="pull-right header"><i class="fa fa-group "></i></li>
                                    </ul>
                                    <div class="tab-content">
                                      <div class="tab-pane" id="tab_chat">
                                        <div class="row">
                                           <div class="col-sm-12">
                                             <h2>Class Chat</h2>
                                             <p>
                                            <div class="box-body">
                                              <iframe src="https://kiwiirc.com/client/irc.kiwiirc.com/?nick={{firstname}}?#{{currentclass}}"
                                                      style="border:0; width:100%; height:550px;"></iframe>
                                              </p>
                                              <!--
                                              <div class="form-group">
                                                <textarea id="notes-textarea" class="form-control" style="height: 600px">

                                                </textarea>
                                              </div>
                                            </div><!-- /.box-body -->


                                          </div><!-- /. box -->
                                             </p>
                                           </div>
                                        </div>
                                      </div>
                                      <div class="tab-pane active" id="tab_files">
                                        <div class="row">
                                           <div class="col-sm-12">
                                             <h2>Class Files</h2>


                                             <form action="/class/?class={{currentclass}}" enctype="multipart/form-data" method="POST">
                                             {% csrf_token %}
                                             <p>
                                             Please specify a file:<br>
                                             {{dl_form|crispy}}
                                             {{ form.errors }}
                                             {{ form.non_field_errors }}
                                             </p>
                                             <div>
                                             <div class="panel-footer">
                                                 <input type="submit" value="Send File" class="btn btn-primary btn-sm" />
                                             </div>
                                             </div>
                                             </form>

                                             <ul>
                                             {% for url, name, file, commentForm in filelist %}
                                             	<a href={{ url }} download>
                                             		<p><h3>{{name}}</h3></p>
                                             	</a>
                                             		New Comment
                      													<form method="POST" class="post-form">{% csrf_token %}
                      													    {{commentForm|crispy}}
                                                <input type="hidden" value={{name}} name="file_name" />
                      													<input type="submit" value="Comment" class="btn btn-primary btn-sm">
                      													</form>
                                                <ul>
    		                                        {% for comment in file.comment_set.all %}
                    												 	    <!--print comment text-->
                    												 	    <li>{{ comment.comment }} </br>
                    												 	        <i>By: {{comment.user.firstName}} {{comment.user.lastName}} on: {{ comment.pub_date }}</i>
                                                  </li>
													                      {% endfor %}
                                              </ul>
                                              <br>
                                             {% endfor %}

                                             </ul>

                                           </div>
                                        </div>
                                      </div>
<!--                                       <div class="tab-pane" id="tab_lecture">
                                        <div class="row">
                                           <div class="col-sm-12">
                                             <h2>To Lecture</h2>
                                             redirect!
                                             </ul>
                                           </div>
                                        </div>
                                      </div> -->

                                      <div class="tab-pane" id="tab_about">
                                        <div class="row">
                                           <div class="col-sm-6">
                                             <h2>{{currentclass}}</h2>
                                             <p>
                                               {{description}}
                                             </p>
                                           </div>
                                           <div class="col-sm-6">
                                             <hr>
                                             <div class="row">
                                               <div class="col-sm-6">
                                                 <strong><i class="fa fa-calendar margin-r-5"></i>Schedule:</strong>
                                               <p class="text-muted ng-binding">
                                                 {{time}}
                                               </p>
                                             </div>
                                               
                                             </div>
                                             <div class="row">
                                               <div class="col-sm-12">
                                                 <hr>
                                             <strong><i class="fa fa-book margin-r-5"></i>Materials:</strong>
                                             <p class="text-muted ng-binding">
                                               {{textbook}}
                                             </p>
                                           </div>
                                           </div>
                                        </div>
                                        </div>
                                        <div class="row">
                                          <div class="col-sm-12">
                                            <h2>Instructor: {{professor.firstName}} {{professor.lastName}}</h2>
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col-sm-4">
                                            <img src="{{professor.profile_pic}}" class=" profile-user-img img-responsive img-circle" id = "profilePicture">
                                          </div>
                                          <div class="col-sm-4">
                                            <div class="row">
                                              <div class="col-sm-12">
                                                  <hr>
                                                  <strong><i class="fa fa-envelope-o margin-r-5"></i>Contact:</strong>
                                                  <p class="text-muted ng-binding">
                                                    {{professor.email}}
                                                  </p>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div><!-- /.tab-content -->


                                  </div><!-- nav-tabs-custom -->
                                </div>
                  </div>

                  </div>

               </div>
               <!-- Your Page Content Here -->
            </section>
            <!-- /.content -->
         </div>
         <!-- /.content-wrapper -->
         <!-- Main Footer -->
         <footer class="main-footer">
            <!-- To the right -->
            <div class="pull-right hidden-xs">
               A Slug Chat Product~
            </div>
            <!-- Default to the left -->
            <strong>Copyright &copy; 2015 <a href="#">SlugChat</a>.</strong> All rights reserved.
         </footer>
         <!-- Control Sidebar -->

         <!-- /.control-sidebar -->
         <!-- Add the sidebar's background. This div must be placed
            immediately after the control sidebar -->
         <div class="control-sidebar-bg"></div>
      </div>
      <!-- ./wrapper -->
      <!-- REQUIRED JS SCRIPTS -->
      <!-- jQuery 2.1.4 -->
      <script src="{% static 'AdminLTE/plugins/jQuery/jQuery-2.1.4.min.js' %}"></script>
      <!-- Bootstrap 3.3.5 -->
      <script src="{% static 'AdminLTE/bootstrap/js/bootstrap.min.js' %}"></script>
      <!-- AdminLTE App -->
      <script src="{% static 'AdminLTE/dist/js/app.min.js' %}"></script>
      <script src="{% static 'js/profileScripts.js' %}"></script>
      <!-- fullCalendar 2.2.5 -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.2/moment.min.js"></script>
      <script src="{% static 'AdminLTE/plugins/fullcalendar/fullcalendar.min.js' %}"></script>
   </body>
</html>
